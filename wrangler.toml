name = "santrilogy-ai"
main = "worker/index.js"
compatibility_date = "2023-12-01"

# Environment variables
[vars]
ALLOWED_ORIGINS = "https://ai.santrilogy.com,https://santrilogy-ai.blogspot.com,https://www.santrilogy-ai.blogspot.com"

# D1 Database binding
[[d1_databases]]
binding = "DB"  # Available in your Worker at env.DB
database_name = "santrilogy-ai-db"
database_id = "85f0a1d6-ef9f-482c-b9cc-dd35b4843e5d"  # Ganti dengan ID yang Anda dapatkan

# Environment-specific configuration
[env.production]
account_id = "your-account-id"
workers_dev = false
route = { pattern = "santrilogy-ai.santrilogyapp.workers.dev/*", zone_id = "your-zone-id" }

# Environment-specific variables (set via wrangler secret put)
# - JWT_SECRET: Secret untuk JWT signing
# - GOOGLE_CLIENT_ID: Google OAuth Client ID
# - GOOGLE_CLIENT_SECRET: Google OAuth Client Secret
# - AI_WORKER_URL: URL untuk AI processing (opsional)

# Tambahkan ini di paling bawah
[[vectorize]]
binding = "VECTORIZE_INDEX"
index_name = "santrilogy-index"

[ai]
binding = "AI"